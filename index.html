<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>LINJAMAA</title>
    
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        /* --- CORE CSS --- */
        body {
            margin: 0;
            padding: 0;
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: #1a1a1a;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
        }

        #map {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            background: #222;
        }

        /* --- OVERLAYS --- */
        .brand-overlay {
            position: absolute;
            top: 40px;
            left: 40px;
            z-index: 1000;
            pointer-events: none;
        }

        h1 {
            color: #fff;
            font-weight: 300;
            letter-spacing: 6px;
            text-transform: uppercase;
            font-size: 1.8rem;
            margin: 0;
            text-shadow: 0 2px 10px rgba(0,0,0,0.8);
        }

        .subtitle {
            color: rgba(255,255,255,0.6);
            font-size: 0.8rem;
            letter-spacing: 2px;
            margin-top: 5px;
            text-transform: uppercase;
        }

        .footer-overlay {
            position: absolute;
            bottom: 30px;
            right: 40px;
            z-index: 1000;
        }

        .contact-link {
            color: rgba(255,255,255,0.5);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s;
            letter-spacing: 1px;
        }
        .contact-link:hover {
            color: #fff;
        }

        /* --- CUSTOM TOOLTIPS (Labels) --- */
        .leaflet-tooltip.custom-tooltip-style {
            background-color: transparent;
            border: none;
            box-shadow: none;
            color: #fff;
            font-family: 'Helvetica Neue', sans-serif;
            font-weight: 600;
            font-size: 14px;
            letter-spacing: 1px;
            text-shadow: 0 2px 4px rgba(0,0,0,1);
        }
        
        /* Hiding the default arrow pointer */
        .leaflet-tooltip-left:before, 
        .leaflet-tooltip-right:before, 
        .leaflet-tooltip-top:before, 
        .leaflet-tooltip-bottom:before {
            border: none !important;
        }

        @media (max-width: 600px) {
            .brand-overlay { top: 20px; left: 20px; }
            h1 { font-size: 1.4rem; }
            .footer-overlay { bottom: 20px; right: 20px; }
        }
    </style>
</head>
<body>

    <div class="brand-overlay">
        <h1>Linjamaa</h1>
        <div class="subtitle">world wide</div>
    </div>

    <div id="map"></div>

    <div class="footer-overlay">
        <a href="mailto:hello@linjamaa.com" class="contact-link">Contact</a>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        if (typeof L === 'undefined') {
            alert("Error: The map library could not load. Please check your internet connection.");
        } else {
            const map = L.map('map', {
                zoomControl: false, 
                attributionControl: false
            });

            L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
                maxZoom: 19,
                subdomains: 'abcd'
            }).addTo(map);

            const cities = [
                // Alignment fix for Hammarstrand is preserved here: align: "left"
                { name: "Hammarstrand", lat: 63.1104, lng: 16.3492, country: "SE", align: "left" },
                { name: "Vaasa",        lat: 63.0951, lng: 21.6165, country: "FI" },
                { name: "Virrat",       lat: 62.2417, lng: 23.7706, country: "FI" },
                { name: "Tampere",      lat: 61.4978, lng: 23.7609, country: "FI" },
                { name: "Stockholm",    lat: 59.3293, lng: 18.0686, country: "SE" },
                { name: "Lund",         lat: 55.7047, lng: 13.1910, country: "SE" },
                { name: "Maastricht",   lat: 50.8514, lng: 5.6910,  country: "NL" }
            ];

            const latlngs = [];

            cities.forEach(function(city) {
                let color, fillColor;
                let weight = 2; 

                // --- ORIGINAL COLOR LOGIC ---
                if (city.country === "SE") {
                    color = "#fecc00";      // Sweden Yellow
                    fillColor = "#006aa7";  // Sweden Blue
                } else if (city.country === "FI") {
                    color = "#ffffff";      // Finland White
                    fillColor = "#003580";  // Finland Blue
                } else { // Netherlands (NL)
                    color = "#ff9b00";      // Original Maastricht Orange/Yellow border
                    fillColor = "#ae1c28";  // Original Maastricht Red fill
                }

                // Alignment Logic
                const textDirection = city.align || 'right';
                const xOffset = textDirection === 'left' ? -15 : 15;

                // Create Marker using L.circleMarker (the simple dot)
                L.circleMarker([city.lat, city.lng], {
                    radius: 6,
                    fillColor: fillColor,
                    color: color,
                    weight: weight,
                    opacity: 1,
                    fillOpacity: 1
                }).addTo(map)
                // This binds the permanent, transparent label (the city name)
                .bindTooltip(city.name, {
                    permanent: true,
                    direction: textDirection, 
                    className: 'custom-tooltip-style',
                    offset: [xOffset, 0]
                });

                latlngs.push([city.lat, city.lng]);
            });

            map.fitBounds(L.latLngBounds(latlngs), { padding: [80, 80] });
        }
    </script>
</body>
</html>


